{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import authService from\"../services/authService\";// Get user from local storage\nconst user=JSON.parse(localStorage.getItem(\"user\"));const initialState={user:user||null,editUser:null,isError:false,isSuccess:false,isLoading:false,message:\"\"};// Register user\nexport const register=createAsyncThunk(\"auth/register\",async(userData,thunkAPI)=>{try{return await authService.register(userData);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});// Login user\nexport const login=createAsyncThunk(\"auth/login\",async(userData,thunkAPI)=>{try{return await authService.login(userData);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});// Update user\nexport const updateUser=createAsyncThunk(\"auth/updateUser\",async(_ref,thunkAPI)=>{let{userId,userData}=_ref;try{return await authService.updateUser(userId,userData);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});export const authSlice=createSlice({name:\"auth\",initialState,reducers:{reset:state=>initialState,resetSuccessAndError:state=>{state.isSuccess=false;state.isError=false;state.message=\"\";},setEditUser:(state,_ref2)=>{let{payload}=_ref2;state.editUser=payload;}},extraReducers:builder=>{builder.addCase(register.pending,state=>{state.isLoading=true;}).addCase(register.fulfilled,(state,_ref3)=>{let{payload}=_ref3;state.user=payload.data;state.isLoading=false;state.isSuccess=true;state.isError=false;state.message=payload.message;}).addCase(register.rejected,(state,_ref4)=>{let{payload}=_ref4;state.isLoading=false;state.isSuccess=false;state.isError=true;state.message=payload;}).addCase(login.pending,state=>{state.isLoading=true;}).addCase(login.fulfilled,(state,_ref5)=>{let{payload}=_ref5;state.user=payload.data;state.isLoading=false;state.isSuccess=true;state.isError=false;state.message=payload.message;}).addCase(login.rejected,(state,_ref6)=>{let{payload}=_ref6;state.isLoading=false;state.isSuccess=false;state.isError=true;state.message=payload;}).addCase(updateUser.pending,state=>{state.isLoading=true;}).addCase(updateUser.fulfilled,(state,_ref7)=>{let{payload}=_ref7;state.user=payload.data;state.editUser=null;state.isLoading=false;state.isSuccess=true;state.isError=false;state.message=payload.message;}).addCase(updateUser.rejected,(state,_ref8)=>{let{payload}=_ref8;state.isLoading=false;state.isSuccess=false;state.isError=true;state.message=payload;});}});export const{reset,resetSuccessAndError,setEditUser}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","authService","user","JSON","parse","localStorage","getItem","initialState","editUser","isError","isSuccess","isLoading","message","register","userData","thunkAPI","error","rejectWithValue","login","updateUser","_ref","userId","authSlice","name","reducers","reset","state","resetSuccessAndError","setEditUser","_ref2","payload","extraReducers","builder","addCase","pending","fulfilled","_ref3","data","rejected","_ref4","_ref5","_ref6","_ref7","_ref8","actions","reducer"],"sources":["/Users/cutlass/Downloads/IX/ix-blog-app/frontend/src/features/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport authService from \"../services/authService\";\n\n// Get user from local storage\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n\nconst initialState = {\n  user: user || null,\n  editUser: null,\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: \"\",\n};\n\n// Register user\nexport const register = createAsyncThunk(\n  \"auth/register\",\n  async (userData, thunkAPI) => {\n    try {\n      return await authService.register(userData);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\n// Login user\nexport const login = createAsyncThunk(\n  \"auth/login\",\n  async (userData, thunkAPI) => {\n    try {\n      return await authService.login(userData);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\n// Update user\nexport const updateUser = createAsyncThunk(\n  \"auth/updateUser\",\n  async ({ userId, userData }, thunkAPI) => {\n    try {\n      return await authService.updateUser(userId, userData);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    reset: (state) => initialState,\n    resetSuccessAndError: (state) => {\n      state.isSuccess = false;\n      state.isError = false;\n      state.message = \"\";\n    },\n    setEditUser: (state, { payload }) => {\n      state.editUser = payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(register.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(register.fulfilled, (state, { payload }) => {\n        state.user = payload.data;\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.isError = false;\n        state.message = payload.message;\n      })\n      .addCase(register.rejected, (state, { payload }) => {\n        state.isLoading = false;\n        state.isSuccess = false;\n        state.isError = true;\n        state.message = payload;\n      })\n      .addCase(login.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(login.fulfilled, (state, { payload }) => {\n        state.user = payload.data;\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.isError = false;\n        state.message = payload.message;\n      })\n      .addCase(login.rejected, (state, { payload }) => {\n        state.isLoading = false;\n        state.isSuccess = false;\n        state.isError = true;\n        state.message = payload;\n      })\n      .addCase(updateUser.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(updateUser.fulfilled, (state, { payload }) => {\n        state.user = payload.data;\n        state.editUser = null;\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.isError = false;\n        state.message = payload.message;\n      })\n      .addCase(updateUser.rejected, (state, { payload }) => {\n        state.isLoading = false;\n        state.isSuccess = false;\n        state.isError = true;\n        state.message = payload;\n      });\n  },\n});\n\nexport const { reset, resetSuccessAndError, setEditUser } = authSlice.actions;\nexport default authSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}